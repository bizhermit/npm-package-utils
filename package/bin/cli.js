#! /usr/bin/env node
"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const path_1=__importDefault(require("path")),generate_declaretion_1=__importDefault(require("../dist/generate-declaretion")),init_1=__importDefault(require("../dist/init")),pack_1=__importDefault(require("../dist/pack"));let cwd=process.cwd();const argPath=process.argv[3];argPath&&!argPath.startsWith("-")&&(cwd=":"===argPath[1]||argPath.startsWith("\\\\")?argPath:path_1.default.join(cwd,argPath));const command=process.argv[2];switch(process.stdout.write(`npm-package-utils:${command||"(unknown)"} ${cwd}\n`),command){case"init":(0,init_1.default)(cwd);break;case"pack":(0,pack_1.default)(cwd);break;case"d.ts":let e=[];const t=process.argv.findIndex((e=>"--ignore"===e)),a=process.argv.findIndex((e=>"-quiet"===e));if(t>0){const a=process.argv[t+1];a?.length>0&&(e=a.split(/,/))}(0,generate_declaretion_1.default)(cwd,{ignoreFileNames:e,quiet:a>=0});break;default:process.stderr.write("unknown command\n")}