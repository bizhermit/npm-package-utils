#! /usr/bin/env node
"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const cli_utils_1=require("@bizhermit/cli-utils"),path_1=__importDefault(require("path")),generate_declaretion_1=__importDefault(require("../dist/generate-declaretion")),init_1=__importDefault(require("../dist/init")),pack_1=__importDefault(require("../dist/pack")),utils_1=require("../dist/utils");let cwd=process.cwd();const argPath=process.argv[3];argPath&&!argPath.startsWith("-")&&(cwd=(0,utils_1.isAbsPath)(argPath)?argPath:path_1.default.join(cwd,argPath));const command=process.argv[2];switch(process.stdout.write(`npm-package-utils:${command||"(unknown)"} ${cwd}\n`),command){case"init":(0,init_1.default)(cwd);break;case"pack":(0,pack_1.default)(cwd);break;case"d.ts":(0,generate_declaretion_1.default)(cwd,{ignoreFileNames:(0,cli_utils_1.getKeyArg)("--ignore")?.split(",")??[],quiet:(0,cli_utils_1.hasKeyArg)("--quiet"),outDir:(0,cli_utils_1.getKeyArg)("--outDir"),outName:(0,cli_utils_1.getKeyArg)("--outName")});break;default:process.stderr.write("unknown command\n")}